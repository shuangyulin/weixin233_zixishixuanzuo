(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/zuowei/add-or-update"],{"50c7":function(e,t,u){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(u("a34a"));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,u,n,r,i,o){try{var a=e[i](o),c=a.value}catch(s){return void u(s)}a.done?t(c):Promise.resolve(c).then(n,r)}function o(e){return function(){var t=this,u=arguments;return new Promise((function(n,r){var o=e.apply(t,u);function a(e){i(o,n,r,a,c,"next",e)}function c(e){i(o,n,r,a,c,"throw",e)}a(void 0)}))}}var a=function(){Promise.all([u.e("common/vendor"),u.e("components/w-picker/w-picker")]).then(function(){return resolve(u("b7aa"))}.bind(null,u)).catch(u.oe)},c={data:function(){return{cross:"",ro:{zuoweiName:!1,zuoweiPhoto:!1,zuoweiTypes:!1,zuoweiShijian:!1,zuoweiNewMoney:!1,zuoweiNumber:!1,zuoweiClicknum:!1,zuoweiDelete:!1,zuoweiContent:!1,createTime:!1},ruleForm:{zuoweiName:"",zuoweiPhoto:"",zuoweiTypes:"",zuoweiValue:"",zuoweiShijian:"",zuoweiNewMoney:"",zuoweiNumber:"",zuoweiClicknum:"",zuoweiDelete:"",zuoweiContent:"",createTime:""},user:{},zuoweiTypesOptions:[],zuoweiTypesIndex:0}},components:{wPicker:a},computed:{baseUrl:function(){return this.$base.url}},onLoad:function(e){var t=this;return o(n.default.mark((function u(){var r,i,o;return n.default.wrap((function(u){while(1)switch(u.prev=u.next){case 0:return r={page:1,limit:100,dicCode:"zuowei_types"},u.next=3,t.$api.page("dictionary",r);case 3:if(i=u.sent,t.zuoweiTypesOptions=i.data.list,!e.id){u.next=11;break}return t.ruleForm.id=e.id,u.next=9,t.$api.info("zuowei",t.ruleForm.id);case 9:o=u.sent,t.ruleForm=o.data;case 11:e.zuoweiId&&(t.ruleForm.zuoweiId=e.zuoweiId);case 12:case"end":return u.stop()}}),u)})))()},methods:{zuoweiTypesChange:function(e){this.zuoweiTypesIndex=e.target.value,this.ruleForm.zuoweiValue=this.zuoweiTypesOptions[this.zuoweiTypesIndex].indexName,this.ruleForm.zuoweiTypes=this.zuoweiTypesOptions[this.zuoweiTypesIndex].codeIndex},zuoweiPhotoTap:function(){var e=this;this.$api.upload((function(t){e.ruleForm.zuoweiPhoto=e.$base.url+"upload/"+t.file,e.$forceUpdate(),e.$nextTick((function(){}))}))},createTimeConfirm:function(e){console.log(e),this.ruleForm.createTime=e.result,this.$forceUpdate()},getUUID:function(){return(new Date).getTime()},onSubmitTap:function(){var t=this;return o(n.default.mark((function u(){return n.default.wrap((function(u){while(1)switch(u.prev=u.next){case 0:if(t.ruleForm.zuoweiName){u.next=3;break}return t.$utils.msg("座位名称不能为空"),u.abrupt("return");case 3:if(t.ruleForm.zuoweiPhoto){u.next=6;break}return t.$utils.msg("座位照片不能为空"),u.abrupt("return");case 6:if(t.ruleForm.zuoweiShijian){u.next=9;break}return t.$utils.msg("开始时间不能为空"),u.abrupt("return");case 9:if(t.ruleForm.zuoweiNumber||t.$validate.isIntNumer(t.ruleForm.zuoweiNumber)||!(t.ruleForm.zuoweiNumber>0)){u.next=12;break}return t.$utils.msg("座位不能为空，不能小于0 格式为数字"),u.abrupt("return");case 12:if(t.ruleForm.zuoweiClicknum||t.$validate.isIntNumer(t.ruleForm.zuoweiClicknum)||!(t.ruleForm.zuoweiClicknum>0)){u.next=15;break}return t.$utils.msg("点击次数不能为空，不能小于0 格式为数字"),u.abrupt("return");case 15:if(!t.ruleForm.id){u.next=20;break}return u.next=18,t.$api.update("zuowei",t.ruleForm);case 18:u.next=22;break;case 20:return u.next=22,t.$api.save("zuowei",t.ruleForm);case 22:e.setStorageSync("pingluenStateState",!0),t.$utils.msgBack("提交成功");case 24:case"end":return u.stop()}}),u)})))()},getDate:function(e){var t=new Date,u=t.getFullYear(),n=t.getMonth()+1,r=t.getDate();return"start"===e?u-=60:"end"===e&&(u+=2),n=n>9?n:"0"+n,r=r>9?r:"0"+r,"".concat(u,"-").concat(n,"-").concat(r)},toggleTab:function(e){this.$refs[e].show()}}};t.default=c}).call(this,u("543d")["default"])},"6e48":function(e,t,u){},"80f7":function(e,t,u){"use strict";u.r(t);var n=u("50c7"),r=u.n(n);for(var i in n)"default"!==i&&function(e){u.d(t,e,(function(){return n[e]}))}(i);t["default"]=r.a},"96c8":function(e,t,u){"use strict";(function(e){u("48e8");n(u("66fd"));var t=n(u("9c83"));function n(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=u,e(t.default)}).call(this,u("543d")["createPage"])},"9c83":function(e,t,u){"use strict";u.r(t);var n=u("c6df"),r=u("80f7");for(var i in r)"default"!==i&&function(e){u.d(t,e,(function(){return r[e]}))}(i);u("e5d2");var o,a=u("f0c5"),c=Object(a["a"])(r["default"],n["b"],n["c"],!1,null,"fc043b0e",null,!1,n["a"],o);t["default"]=c.exports},c6df:function(e,t,u){"use strict";u.d(t,"b",(function(){return r})),u.d(t,"c",(function(){return i})),u.d(t,"a",(function(){return n}));var n={wPicker:function(){return Promise.all([u.e("common/vendor"),u.e("components/w-picker/w-picker")]).then(u.bind(null,"b7aa"))}},r=function(){var e=this,t=e.$createElement;e._self._c},i=[]},e5d2:function(e,t,u){"use strict";var n=u("6e48"),r=u.n(n);r.a}},[["96c8","common/runtime","common/vendor"]]]);